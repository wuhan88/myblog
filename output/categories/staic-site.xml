<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Jason Wu's Thoughts and Writings (文章分类：staic site)</title><link>https://vimer.im/</link><description></description><atom:link rel="self" type="application/rss+xml" href="https://vimer.im/categories/staic-site.xml"></atom:link><language>zh_cn</language><copyright>Contents © 2018 &lt;a href="mailto:jasonwux@gmail.com"&gt;JasonWu&lt;/a&gt; </copyright><lastBuildDate>Sat, 24 Feb 2018 08:13:15 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>博客迁移到tinkerer</title><link>https://vimer.im/posts/begin_tinkerer/</link><dc:creator>JasonWu</dc:creator><description>&lt;div&gt;&lt;p&gt;在11年时，将我的博客从wordpress+mysql换成了django+sqlite，具体可见 &lt;a class="reference external" href="http://jasonwu.me/2011/05/29/The-blog-from-wordpress-migrate-django.html"&gt;将博客从wordpress迁移到django&lt;/a&gt; 这篇文章， 在折腾精神的感召下，在12年底我将博客程序又换掉了，这次换成了一个基于 &lt;a class="reference external" href="http://sphinx.pocoo.org/"&gt;sphinx&lt;/a&gt; 静态博客生成器 &lt;a class="reference external" href="http://tinkerer.me/pages/documentation.html"&gt;tinkerer&lt;/a&gt; ， &lt;tt class="docutils literal"&gt;tinkerer&lt;/tt&gt; 使用 &lt;a class="reference external" href="http://docutils.sourceforge.net/rst.html"&gt;reStructuredText&lt;/a&gt;  作为标记语言，可以生成文章的分类，tag，支持评论和代码高亮，文章评论使用 &lt;tt class="docutils literal"&gt;disqus&lt;/tt&gt; , 高亮代码使用 &lt;tt class="docutils literal"&gt;Pygments&lt;/tt&gt; 。&lt;/p&gt;
&lt;p&gt;说说为什么使用 &lt;tt class="docutils literal"&gt;tinkerer&lt;/tt&gt; ，从打算把博客弄成静态站点开始我尝试了很多项目，如 &lt;tt class="docutils literal"&gt;octpress&lt;/tt&gt; 、 &lt;tt class="docutils literal"&gt;jekyll&lt;/tt&gt; 、 &lt;tt class="docutils literal"&gt;pelican&lt;/tt&gt; ，一次偶然的机会在 &lt;tt class="docutils literal"&gt;bitbucket&lt;/tt&gt; 上发现了 &lt;tt class="docutils literal"&gt;tinkerer&lt;/tt&gt; ，试用后感觉比较顺手，并且可以使用sphinx的扩展，我比较熟悉 &lt;tt class="docutils literal"&gt;sphinx&lt;/tt&gt; 和 &lt;tt class="docutils literal"&gt;reStructuredText&lt;/tt&gt; 的使用，平时就用这两个东西写文档，因此选择了基于 &lt;tt class="docutils literal"&gt;sphinx&lt;/tt&gt; 的 &lt;tt class="docutils literal"&gt;tinkerer&lt;/tt&gt; 。我最开始使用的是0.4 beta版还存在一些bug，然后我自己做了一些修改pull给作者，作者很快就接受了我的pull request，并表示感谢，现在1.0版本已经发布，基本上没有比较明显的bug了，只是有一些细节可能不是那么完美，还有一个就是主题很少，目前默认的几款主题，都不是很美观，目前我在移植一款主题。&lt;/p&gt;
&lt;p&gt;tinkerer的一些使用经验:&lt;/p&gt;
&lt;p&gt;＊ 自定义博客的侧边栏&lt;/p&gt;
&lt;p&gt;这里以创建友情链接的plugin作为例子，复制boilerplate主题目录下recent.html为一个新的文件，如friendslinks.html，然后改成如下这样就可以了:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-1"&gt;&lt;/a&gt;{#-
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-2"&gt;&lt;/a&gt;    boilerplate/friendslinks.html
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-3"&gt;&lt;/a&gt;    ~~~~~~~~~~~~~~~~~~~~~
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-5"&gt;&lt;/a&gt;    Sidebar list of all tags.
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-6"&gt;&lt;/a&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-7"&gt;&lt;/a&gt;    :copyright: Copyright 2012 by Iñigo Serna
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-8"&gt;&lt;/a&gt;    :license: FreeBSD, see LICENSE file
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-9"&gt;&lt;/a&gt;-#}
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-10"&gt;&lt;/a&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-11"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"widget"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-12"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Friends links&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-13"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;ul&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-14"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"http://www.qdyongai.cn/?from=jason"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;龙哥-网站设计&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-15"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"http://www.zipeng.info/?from=jason"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;子鹏-kun的记事本&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-16"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"http://www.aaronw.me/?from=jason"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;王炜-我的技术生活&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-17"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"http://cuikai-wh.com/?from=jason"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;小轰-时光立方&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-18"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;ul&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2f83e455dcbc498c885e3cd87dd608ec-19"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;这里要注意的是默认的modern5主题是继承于boilerplate这个主题，因此只要修改boilerplate这个主题就可以了&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;然后在conf.py中加入这个文件的配置&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_59ceab4634c0461680e69237fe913ecf-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Add templates to be rendered in sidebar here&lt;/span&gt;
&lt;a name="rest_code_59ceab4634c0461680e69237fe913ecf-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;html_sidebars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_59ceab4634c0461680e69237fe913ecf-3"&gt;&lt;/a&gt;    &lt;span class="s2"&gt;"**"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"searchbox.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"categories.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"recent.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"friendslinks.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"weibo.html"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_59ceab4634c0461680e69237fe913ecf-4"&gt;&lt;/a&gt;    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;ul class="simple"&gt;
&lt;li&gt;创建一个makefile，使用过 &lt;tt class="docutils literal"&gt;sphinx&lt;/tt&gt; 的人应该都知道 &lt;tt class="docutils literal"&gt;sphinx&lt;/tt&gt; 会生成一个 makefile，这样可以直接使用make html就可以生成文档了，tinker没有提供，那么我们可以自己写一个，让我么操作的更加自动化，如下是我 &lt;tt class="docutils literal"&gt;Makefile&lt;/tt&gt; 示例，大家可以参照下：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-1"&gt;&lt;/a&gt;all: build commit update
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-3"&gt;&lt;/a&gt;clean:
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-4"&gt;&lt;/a&gt;             rm -rf blog/html/
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-5"&gt;&lt;/a&gt;
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-6"&gt;&lt;/a&gt;build:
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-7"&gt;&lt;/a&gt;             tinker -b
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-9"&gt;&lt;/a&gt;serve:
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-10"&gt;&lt;/a&gt;             &lt;span class="nb"&gt;cd&lt;/span&gt; blog/html/ &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; python -m SimpleHTTPServer
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-11"&gt;&lt;/a&gt;
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-12"&gt;&lt;/a&gt;commit:
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-13"&gt;&lt;/a&gt;             hg commit ./ -m &lt;span class="s1"&gt;'add new post'&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;hg push
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-14"&gt;&lt;/a&gt;                     @echo &lt;span class="s2"&gt;"Done..."&lt;/span&gt;
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-15"&gt;&lt;/a&gt;
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-16"&gt;&lt;/a&gt;update:
&lt;a name="rest_code_d76f05210fcb45b08b3804125c50f578-17"&gt;&lt;/a&gt;             ssh root@jasonwu.me &lt;span class="s1"&gt;'cd /home/admin/jasonwu.me/&amp;amp;&amp;amp;hg pull&amp;amp;&amp;amp;hg update'&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;这个makefile主要实现了生成文档，在本地起一个http服务器来查看生成的文章效果，提交到bitbucket和更新vps上的博客内容等功能，将这些操作完全的自动化，是不是很方便，大家玩的开心。&lt;/p&gt;&lt;/div&gt;</description><category>blog</category><category>sphinx</category><category>staic site</category><category>tinkerer</category><guid>https://vimer.im/posts/begin_tinkerer/</guid><pubDate>Tue, 29 Jan 2013 12:17:59 GMT</pubDate></item></channel></rss>