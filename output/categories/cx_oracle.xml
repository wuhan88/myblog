<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Jason Wu's Thoughts and Writings (文章分类：cx_oracle)</title><link>https://vimer.im/</link><description></description><atom:link rel="self" type="application/rss+xml" href="https://vimer.im/categories/cx_oracle.xml"></atom:link><language>zh_cn</language><copyright>Contents © 2018 &lt;a href="mailto:jasonwux@gmail.com"&gt;JasonWu&lt;/a&gt; </copyright><lastBuildDate>Sat, 24 Feb 2018 08:13:15 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>CENT OS安装cx_Oracle遇到的问题及解决方法</title><link>https://vimer.im/posts/centos_install_cx_oracle/</link><dc:creator>JasonWu</dc:creator><description>&lt;div&gt;&lt;p&gt;这个是 &lt;tt class="docutils literal"&gt;cx_Oracle&lt;/tt&gt; 的说明链接http://cx-oracle.sourceforge.net/README.txt，我是采用源码安装
安装过程：&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_0989bbdc64624827bf0b7a40a9b0c472-1"&gt;&lt;/a&gt;wget  http://prdownloads.sourceforge.net/cx-oracle/cx_Oracle-5.0.3.tar.gz?download
&lt;a name="rest_code_0989bbdc64624827bf0b7a40a9b0c472-2"&gt;&lt;/a&gt;tar zxvf   cx_Oracle-5.0.3.tar.gz
&lt;a name="rest_code_0989bbdc64624827bf0b7a40a9b0c472-3"&gt;&lt;/a&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; cx_Oracle-5.0.3
&lt;a name="rest_code_0989bbdc64624827bf0b7a40a9b0c472-4"&gt;&lt;/a&gt;python setup.py build
&lt;a name="rest_code_0989bbdc64624827bf0b7a40a9b0c472-5"&gt;&lt;/a&gt;python setup.py install
&lt;/pre&gt;&lt;p&gt;下面是检查它是否可以用&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_622f39814fbd455fafdcf64cb1334b2f-1"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;cx_Oracle&lt;/span&gt;
&lt;a name="rest_code_622f39814fbd455fafdcf64cb1334b2f-2"&gt;&lt;/a&gt;&lt;span class="err"&gt;接着出现了两个错误，错误信息如下：&lt;/span&gt;
&lt;a name="rest_code_622f39814fbd455fafdcf64cb1334b2f-3"&gt;&lt;/a&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;python2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;packages&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cx_Oracle&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;py2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;linux&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x86_64&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;egg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cx_Oracle&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_622f39814fbd455fafdcf64cb1334b2f-4"&gt;&lt;/a&gt;&lt;span class="ne"&gt;UserWarning&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Module&lt;/span&gt; &lt;span class="n"&gt;cx_Oracle&lt;/span&gt; &lt;span class="n"&gt;was&lt;/span&gt; &lt;span class="n"&gt;already&lt;/span&gt; &lt;span class="n"&gt;imported&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;python2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;packages&lt;/span&gt;
&lt;a name="rest_code_622f39814fbd455fafdcf64cb1334b2f-5"&gt;&lt;/a&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cx_Oracle&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;py2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;linux&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x86_64&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;egg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cx_Oracle&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pyc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_622f39814fbd455fafdcf64cb1334b2f-6"&gt;&lt;/a&gt;&lt;span class="n"&gt;but&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cx_Oracle&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;being&lt;/span&gt; &lt;span class="n"&gt;added&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;
&lt;a name="rest_code_622f39814fbd455fafdcf64cb1334b2f-7"&gt;&lt;/a&gt;&lt;span class="ne"&gt;ImportError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;libclntsh&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;so&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mf"&gt;10.1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;cannot&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt; &lt;span class="n"&gt;shared&lt;/span&gt; &lt;span class="nb"&gt;object&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;No&lt;/span&gt; &lt;span class="n"&gt;such&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;directory&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;下面来说说这两个错误的解决方法，
第一个问题，提示说/usr/local/cx_Oracle-5.0.3已经加入到python的 &lt;tt class="docutils literal"&gt;sys.path&lt;/tt&gt; 里面了
那么我们就在 &lt;tt class="docutils literal"&gt;sys.path&lt;/tt&gt; 中去掉这个路径：
具体方法&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-1"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-2"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6/site-packages/setuptools-0.6c11-py2.6.egg'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-4"&gt;&lt;/a&gt;&lt;span class="s1"&gt;'/usr/local/lib/python2.6/site-packages/fudge-0.9.4-py2.6.egg'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-5"&gt;&lt;/a&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6/site-packages/python_memcached-1.45-py2.6.egg'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-6"&gt;&lt;/a&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6/site-packages/MySQL_python-1.2.3c1-py2.6-linux-x86_64.egg'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-7"&gt;&lt;/a&gt;&lt;span class="s1"&gt;'/usr/local/lib/python2.6/site-packages/flup-1.0.3.dev_20100525-py2.6.egg'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-8"&gt;&lt;/a&gt;&lt;span class="s1"&gt;'/usr/local/lib/python2.6/site-packages/regex-0.1.20100706.1-py2.6-linux-x86_64.egg'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-9"&gt;&lt;/a&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6/site-packages/cx_Oracle-5.0.3-py2.6-linux-x86_64.egg'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-10"&gt;&lt;/a&gt; &lt;span class="s1"&gt;'/usr/local/lib/python26.zip'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6/plat-linux2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-11"&gt;&lt;/a&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6/lib-tk'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6/lib-old'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-12"&gt;&lt;/a&gt;&lt;span class="s1"&gt;'/usr/local/lib/python2.6/lib-dynload'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6/site-packages'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-13"&gt;&lt;/a&gt; &lt;span class="s1"&gt;'/usr/local/lib/python2.6/site-packages/PIL'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'/usr/local/cx_Oracle-5.0.3'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-14"&gt;&lt;/a&gt;
&lt;a name="rest_code_f749e7a082454cd98626f13c90d3f2ab-15"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;'/usr/local/cx_Oracle-5.0.3'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;第一个问题解决，接着第二个问题，这个网上有解决方案，下面说说解决方法：
这个的原因是 &lt;tt class="docutils literal"&gt;Oracle&lt;/tt&gt; 的路径没有设定&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_ddf015ae63dc4a328918f4f9a0914584-1"&gt;&lt;/a&gt;locate libclntsh.so.10.1
&lt;a name="rest_code_ddf015ae63dc4a328918f4f9a0914584-2"&gt;&lt;/a&gt;/opt/oracle/product/10.2/db_1/lib/libclntsh.so.10.1
&lt;a name="rest_code_ddf015ae63dc4a328918f4f9a0914584-3"&gt;&lt;/a&gt;/opt/oracle/product/10.2/db_1/lib32/libclntsh.so.10.1
&lt;a name="rest_code_ddf015ae63dc4a328918f4f9a0914584-4"&gt;&lt;/a&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; /opt/oracle/product/10.2/db_1/lib/ &amp;gt;&amp;gt; /etc/ld.so.conf
&lt;a name="rest_code_ddf015ae63dc4a328918f4f9a0914584-5"&gt;&lt;/a&gt;ldconfig
&lt;/pre&gt;&lt;p&gt;就这样第二个问题解决
再试一下：&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_07acca17139d4f938cb2bb25f4a040e8-1"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;cx_Oracle&lt;/span&gt;
&lt;a name="rest_code_07acca17139d4f938cb2bb25f4a040e8-2"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><category>cx_oracle</category><category>python</category><guid>https://vimer.im/posts/centos_install_cx_oracle/</guid><pubDate>Tue, 09 Oct 2012 12:17:59 GMT</pubDate></item></channel></rss>